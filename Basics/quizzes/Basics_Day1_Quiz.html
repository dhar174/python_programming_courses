<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Python Basics - Day 1 Quiz</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:ital,wght@0,400;0,500;1,400&display=swap" rel="stylesheet" />
  <style>
    /* ── 8-Point Spatial Grid  ·  Dark IDE Theme  ·  Python Academy ── */
    :root {
      color-scheme: dark;
      /* 8-pt grid tokens */
      --sp1: 8px;  --sp2: 16px; --sp3: 24px;
      --sp4: 32px; --sp5: 40px; --sp6: 48px;
      /* Dark IDE palette */
      --bg:          #1E1E2E;
      --surface:     #252537;
      --surface-hi:  #2E2E45;
      --border:      #313244;
      /* Python brand accents */
      --py-blue:     #4B8BBE;
      --py-yellow:   #FFD43B;
      --py-blue-dim: rgba(75,139,190,0.18);
      --py-yellow-dim: rgba(255,212,59,0.15);
      /* Text hierarchy */
      --txt:         #CDD6F4;
      --txt-muted:   #A6ADC8;
      --txt-code:    #CBA6F7;
      /* Shadows */
      --sh-sm: 0 2px 8px rgba(0,0,0,.40);
      --sh-md: 0 4px 20px rgba(0,0,0,.50);
      /* Radii – multiples of 8 */
      --r-sm: 8px; --r-md: 16px; --r-lg: 24px;
      /* Universal micro-interaction */
      --t: all 0.2s ease-in-out;
    }
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: 'Inter', 'Segoe UI', Arial, sans-serif;
      background: var(--bg);
      color: var(--txt);
      line-height: 1.6;
      min-height: 100vh;
    }
    /* Styled scrollbar */
    ::-webkit-scrollbar { width: 8px; height: 8px; }
    ::-webkit-scrollbar-track { background: var(--bg); }
    ::-webkit-scrollbar-thumb { background: var(--border); border-radius: 4px; }
    ::-webkit-scrollbar-thumb:hover { background: var(--py-blue); }

    .container {
      max-width: 820px;
      margin: 0 auto;
      padding: var(--sp3) var(--sp2) var(--sp6);
    }

    /* ── Header card ── */
    .header-card {
      background: var(--surface);
      border: 1px solid var(--border);
      border-top: 4px solid var(--py-yellow);
      border-radius: var(--r-lg);
      padding: var(--sp4);
      box-shadow: var(--sh-md);
      margin-bottom: var(--sp3);
      position: relative;
      overflow: hidden;
    }
    .header-card::after {
      content: '';
      position: absolute;
      top: -48px; right: -48px;
      width: 200px; height: 200px;
      background: radial-gradient(circle, rgba(75,139,190,0.12) 0%, transparent 70%);
      pointer-events: none;
    }
    h1 {
      font-size: 2rem;
      font-weight: 700;
      color: var(--py-yellow);
      letter-spacing: -0.025em;
      margin-bottom: var(--sp1);
    }
    .quiz-subtitle { color: var(--txt-muted); font-size: 0.9375rem; }
    .meta {
      display: inline-flex;
      align-items: center;
      gap: var(--sp1);
      background: var(--surface-hi);
      border: 1px solid var(--border);
      border-radius: var(--r-sm);
      padding: var(--sp1) var(--sp2);
      font-size: 0.875rem;
      color: var(--txt-muted);
      margin-top: var(--sp2);
    }
    h2 {
      font-size: 0.75rem;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      color: var(--py-blue);
      margin-top: var(--sp3);
      margin-bottom: var(--sp1);
    }
    ul { list-style: none; display: grid; gap: 6px; margin-top: var(--sp1); }
    ul li {
      padding-left: var(--sp2);
      position: relative;
      color: var(--txt-muted);
      font-size: 0.9375rem;
    }
    ul li::before { content: '▸'; position: absolute; left: 0; color: var(--py-blue); }

    /* ── Progress bar ── */
    .progress-wrap {
      margin-top: var(--sp2);
      display: flex;
      align-items: center;
      gap: var(--sp1);
    }
    .progress-track {
      flex: 1;
      height: 6px;
      background: var(--border);
      border-radius: 3px;
      overflow: hidden;
    }
    .progress-fill {
      height: 100%;
      width: 0%;
      background: linear-gradient(90deg, var(--py-blue), var(--py-yellow));
      border-radius: 3px;
      transition: width 0.3s ease-in-out;
    }
    .progress-label {
      font-size: 0.8125rem;
      font-weight: 600;
      color: var(--txt-muted);
      min-width: 48px;
      text-align: right;
    }

    /* ── Question cards ── */
    .question-card {
      background: var(--surface);
      border: 1.5px solid var(--border);
      border-radius: var(--r-md);
      padding: var(--sp3);
      box-shadow: var(--sh-sm);
      margin-bottom: var(--sp2);
      transition: var(--t);
    }
    .question-card:hover {
      border-color: rgba(75,139,190,0.45);
      box-shadow: var(--sh-md);
      transform: translateY(-1px);
    }
    .question-number {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      min-width: 32px;
      height: 32px;
      padding: 0 var(--sp1);
      background: var(--py-blue-dim);
      border: 1.5px solid var(--py-blue);
      border-radius: var(--r-sm);
      font-size: 0.8125rem;
      font-weight: 700;
      color: var(--py-blue);
      margin-bottom: var(--sp2);
    }
    .question-prompt {
      font-size: 1rem;
      line-height: 1.7;
      color: var(--txt);
      margin-bottom: var(--sp2);
    }

    /* ── Code blocks inside prompts ── */
    .question-prompt pre {
      background: #11111B;
      border: 1px solid var(--border);
      border-left: 3px solid var(--py-yellow);
      border-radius: var(--r-sm);
      padding: var(--sp2);
      margin: var(--sp1) 0;
      overflow-x: auto;
      font-family: 'JetBrains Mono', 'Cascadia Code', 'Fira Code', 'Consolas', monospace;
      font-size: 0.875rem;
      line-height: 1.65;
    }
    .question-prompt pre code {
      color: #CDD6F4;
      background: transparent;
      padding: 0;
      font-family: inherit;
      font-size: inherit;
    }
    .question-prompt code {
      background: rgba(203,166,247,0.15);
      color: var(--txt-code);
      padding: 2px 6px;
      border-radius: 4px;
      font-family: 'JetBrains Mono', 'Cascadia Code', 'Fira Code', 'Consolas', monospace;
      font-size: 0.9em;
    }

    /* ── Answer options ── */
    .options { display: grid; gap: var(--sp1); }
    .option-row {
      display: flex;
      align-items: flex-start;
      gap: var(--sp1);
      border: 1.5px solid var(--border);
      border-radius: var(--r-sm);
      padding: var(--sp1) var(--sp2);
      background: var(--surface-hi);
      cursor: pointer;
      transition: var(--t);
    }
    .option-row:hover {
      border-color: var(--py-blue);
      background: var(--py-blue-dim);
      box-shadow: 0 0 0 2px rgba(75,139,190,0.2);
    }
    .option-row input[type="radio"] {
      margin-top: 3px;
      flex-shrink: 0;
      accent-color: var(--py-blue);
      width: 16px;
      height: 16px;
      cursor: pointer;
    }
    .option-row span {
      color: var(--txt-muted);
      font-size: 0.9375rem;
      line-height: 1.55;
      transition: color 0.2s ease-in-out;
    }
    .option-row span code {
      background: rgba(203,166,247,0.15);
      color: var(--txt-code);
      padding: 2px 6px;
      border-radius: 4px;
      font-family: 'JetBrains Mono', 'Cascadia Code', 'Fira Code', 'Consolas', monospace;
      font-size: 0.875em;
    }
    .option-row:has(input:checked),
    .option-row.is-checked {
      border-color: var(--py-blue);
      background: rgba(75,139,190,0.2);
      box-shadow: 0 0 0 2px rgba(75,139,190,0.3);
    }
    .option-row:has(input:checked) span,
    .option-row.is-checked span { color: var(--txt); font-weight: 500; }

    /* ── Action card (footer) ── */
    .action-card {
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: var(--r-md);
      padding: var(--sp3);
      box-shadow: var(--sh-sm);
      margin-top: var(--sp3);
    }
    .actions { display: flex; gap: var(--sp2); align-items: center; flex-wrap: wrap; }
    button#exportBtn {
      display: inline-flex;
      align-items: center;
      gap: var(--sp1);
      border: 0;
      border-radius: var(--r-sm);
      background: var(--py-yellow);
      color: #1E1E2E;
      font-family: inherit;
      font-size: 0.9375rem;
      font-weight: 700;
      padding: var(--sp1) var(--sp3);
      cursor: pointer;
      transition: var(--t);
      box-shadow: var(--sh-sm);
    }
    button#exportBtn:hover {
      background: #FFE566;
      box-shadow: var(--sh-md);
      transform: translateY(-1px);
    }
    button#exportBtn:active { transform: translateY(0); box-shadow: var(--sh-sm); }
    #status { color: var(--txt-muted); font-size: 0.875rem; }

    /* ── Info / compat note ── */
    .compat-note {
      font-size: 0.875rem;
      color: var(--txt-muted);
      margin-top: var(--sp2);
      padding: var(--sp1) var(--sp2);
      background: var(--py-blue-dim);
      border: 1px solid rgba(75,139,190,0.3);
      border-radius: var(--r-sm);
      line-height: 1.6;
    }
    .compat-note code {
      background: rgba(203,166,247,0.15);
      color: var(--txt-code);
      padding: 2px 6px;
      border-radius: 4px;
      font-family: 'JetBrains Mono', 'Cascadia Code', 'Fira Code', 'Consolas', monospace;
      font-size: 0.9em;
    }
    .compat-note strong { color: var(--txt); }

    /* ── Responsive ── */
    @media (max-width: 640px) {
      h1 { font-size: 1.5rem; }
      .container { padding: var(--sp2) var(--sp1) var(--sp5); }
      .header-card { padding: var(--sp3) var(--sp2); }
      .question-card { padding: var(--sp2); }
      .option-row { padding: var(--sp1); }
    }
  </style>
</head>
<body>
  <!-- Autograder integration note: Exported JSON includes criteria_like_tests entries that mirror criteria.json test semantics (expected vs student output) per question. -->
  <main class="container">
    <section class="header-card">
      <h1>Python Basics - Day 1 Quiz</h1>
      <div class="meta">Total Questions: 30 • Time Estimate: 45-60 minutes</div>
      <h2>Topics Covered</h2>
      <ul>
          <li>Environment orientation and setup</li>
          <li>First scripts: print(), comments, and reading errors</li>
          <li>Variables and basic types</li>
          <li>Numbers and operators</li>
      </ul>
      <h2>Instructions</h2>
      <ul>
          <li>Answer all questions</li>
          <li>For multiple choice, select the best answer</li>
          <li>For code questions, write your answer or predict the output</li>
          <li>Check your answers at the end</li>
          <li>Review explanations for any questions you missed</li>
      </ul>
      <p class="compat-note">Use <strong>Save/Export Answers (JSON)</strong> to download your responses. The file includes <code>student_answers</code> and a <code>criteria_like_tests</code> array so maintainers can map each question to autograder-style checks similar to <code>criteria.json</code> test entries.</p>
      <div class="progress-wrap">
        <div class="progress-track"><div class="progress-fill" id="progressFill"></div></div>
        <span class="progress-label" id="progressLabel"></span>
      </div>
    </section>

    <section id="questions"></section>

    <section class="action-card">
      <div class="actions">
        <button id="exportBtn" type="button" aria-label="Save and export your answers as JSON">⬇ Save/Export Answers (JSON)</button>
        <span id="status">Selections are auto-saved in localStorage.</span>
      </div>
    </section>
  </main>

  <script>
    const QUIZ_DATA = {"quizId": "Basics_Day1_Quiz", "title": "Python Basics - Day 1 Quiz", "questions": [{"number": 1, "prompt": "What command would you use in a terminal to check your Python version?", "options": {"A": "`python check version`", "B": "`python --version`", "C": "`python -V`", "D": "Both B and C"}}, {"number": 2, "prompt": "Which file extension is used for Python scripts?", "options": {"A": "`.python`", "B": "`.pyt`", "C": "`.py`", "D": "`.script`"}}, {"number": 3, "prompt": "What is the difference between running Python code in a REPL (interactive mode) versus running a `.py` file?", "options": {"A": "There is no difference", "B": "REPL executes line-by-line interactively; `.py` files run the entire script", "C": "`.py` files are faster", "D": "REPL only works with Python 2"}}, {"number": 4, "prompt": "Why is it important to save your work in a consistent workspace folder?", "options": {"A": "Python won't run otherwise", "B": "It helps manage imports and file paths consistently", "C": "It's required by PEP 8", "D": "It makes your code run faster"}}, {"number": 5, "prompt": "What should you do before taking a break in a cloud-based lab environment?", "options": {"A": "Close all files", "B": "Restart the VM", "C": "Save all files and suspend the session", "D": "Nothing special"}}, {"number": 6, "prompt": "What is the correct syntax for printing \"Hello, World!\" in Python 3?", "options": {"A": "`print \"Hello, World!\"`", "B": "`print(\"Hello, World!\")`", "C": "`echo(\"Hello, World!\")`", "D": "`console.log(\"Hello, World!\")`"}}, {"number": 7, "prompt": "How do you write a single-line comment in Python?", "options": {"A": "`// This is a comment`", "B": "`/* This is a comment */`", "C": "`# This is a comment`", "D": "`-- This is a comment`"}}, {"number": 8, "prompt": "What will this code output?\n\n```python\nprint(\"Python\")\nprint(\"is\")\nprint(\"awesome!\")\n```", "options": {"A": "`Python is awesome!`", "B": "`Python` `is` `awesome!` (on separate lines)", "C": "An error", "D": "Nothing"}}, {"number": 9, "prompt": "Which of the following will cause a syntax error?", "options": {"A": "`print(\"Hello\")`", "B": "`print('Hello')`", "C": "`print(\"Hello)`", "D": "`print(\"Hello\", \"World\")`"}}, {"number": 10, "prompt": "What information does a Python error message typically provide?", "options": {"A": "Only the error type", "B": "The line number where the error occurred", "C": "A description of what went wrong", "D": "All of the above"}}, {"number": 11, "prompt": "Which of the following is NOT a valid variable name in Python?", "options": {"A": "`student_name`", "B": "`studentName`", "C": "`student-name`", "D": "`student_name_2`"}}, {"number": 12, "prompt": "What will this code print?\n\n```python\nx = 5\ny = x\nx = 10\nprint(y)\n```", "options": {"A": "`5`", "B": "`10`", "C": "`15`", "D": "An error"}}, {"number": 13, "prompt": "What is the data type of `42`?", "options": {"A": "`float`", "B": "`str`", "C": "`int`", "D": "`number`"}}, {"number": 14, "prompt": "What is the data type of `\"42\"`?", "options": {"A": "`float`", "B": "`str`", "C": "`int`", "D": "`number`"}}, {"number": 15, "prompt": "What function can you use to check the data type of a variable?", "options": {"A": "`typeof()`", "B": "`type()`", "C": "`datatype()`", "D": "`check_type()`"}}, {"number": 16, "prompt": "What will this code output?\n\n```python\nname = \"Alice\"\nage = 25\nprint(type(name))\nprint(type(age))\n```", "options": {"A": "`<class 'string'>` and `<class 'integer'>`", "B": "`<class 'str'>` and `<class 'int'>`", "C": "`string` and `integer`", "D": "`str` and `int`"}}, {"number": 17, "prompt": "Which value is a boolean?", "options": {"A": "`\"True\"`", "B": "`1`", "C": "`True`", "D": "`yes`"}}, {"number": 18, "prompt": "What happens if you try to use a variable that hasn't been defined?", "options": {"A": "Python assigns it a default value", "B": "It evaluates to `None`", "C": "You get a `NameError`", "D": "The program continues normally"}}, {"number": 19, "prompt": "What is the result of `10 + 5 * 2`?", "options": {"A": "`30`", "B": "`20`", "C": "`25`", "D": "`17`"}}, {"number": 20, "prompt": "What is the result of `(10 + 5) * 2`?", "options": {"A": "`30`", "B": "`20`", "C": "`25`", "D": "`17`"}}, {"number": 21, "prompt": "What operator would you use to calculate the remainder of a division?", "options": {"A": "`/`", "B": "`//`", "C": "`%`", "D": "`rem`"}}, {"number": 22, "prompt": "What is the result of `17 % 5`?", "options": {"A": "`3`", "B": "`2`", "C": "`3.4`", "D": "`12`"}}, {"number": 23, "prompt": "What is the difference between `/` and `//` in Python 3?", "options": {"A": "There is no difference", "B": "`/` returns a float; `//` returns an integer (floor division)", "C": "`//` is faster", "D": "`/` only works with integers"}}, {"number": 24, "prompt": "What is the result of `10 / 3`?", "options": {"A": "`3`", "B": "`3.0`", "C": "`3.33`", "D": "`3.3333333333333335`"}}, {"number": 25, "prompt": "What is the result of `10 // 3`?", "options": {"A": "`3`", "B": "`3.0`", "C": "`3.33`", "D": "`3.3333333333333335`"}}, {"number": 26, "prompt": "What operator is used for exponentiation (power) in Python?", "options": {"A": "`^`", "B": "`**`", "C": "`pow`", "D": "`exp`"}}, {"number": 27, "prompt": "What is the result of `2 ** 3`?", "options": {"A": "`5`", "B": "`6`", "C": "`8`", "D": "`9`"}}, {"number": 28, "prompt": "What will this code print?\n\n```python\nx = 10\nx = x + 5\nprint(x)\n```", "options": {"A": "`10`", "B": "`15`", "C": "`105`", "D": "An error"}}, {"number": 29, "prompt": "What is a more concise way to write `x = x + 5`?", "options": {"A": "`x + 5`", "B": "`x += 5`", "C": "`x =+ 5`", "D": "`x++5`"}}, {"number": 30, "prompt": "If you want to display a number with exactly 2 decimal places, which approach is most appropriate?", "options": {"A": "`print(x)`", "B": "`print(round(x, 2))`", "C": "`print(f\"{x:.2f}\")`", "D": "Both B and C"}}], "expectedAnswers": {"1": "D", "2": "C", "3": "B", "4": "B", "5": "C", "6": "B", "7": "C", "8": "B", "9": "C", "10": "D", "11": "C", "12": "A", "13": "C", "14": "B", "15": "B", "16": "B", "17": "C", "18": "C", "19": "B", "20": "A", "21": "C", "22": "B", "23": "B", "24": "D", "25": "A", "26": "B", "27": "C", "28": "B", "29": "B", "30": "D"}};
    const STORAGE_KEY = `quiz_answers_${QUIZ_DATA.quizId}`;

    function escapeHtml(value) {
      return value
        .replace(/&/g, '&amp;')
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;')
        .replace(/"/g, '&quot;')
        .replace(/'/g, '&#39;');
    }

    function formatPrompt(markdownText) {
      let text = escapeHtml(markdownText);
      text = text.replace(/```(\w+)?\n([\s\S]*?)```/g, (_, lang, code) => `<pre><code>${code.trimEnd()}</code></pre>`);
      text = text.replace(/`([^`]+)`/g, (_, inlineCode) => `<code>${inlineCode}</code>`);
      return text.replace(/\n/g, '<br />');
    }

    function loadAnswers() {
      try {
        return JSON.parse(localStorage.getItem(STORAGE_KEY) || '{}');
      } catch {
        return {};
      }
    }

    function saveAnswers(answers) {
      const validIds = new Set(QUIZ_DATA.questions.map((q) => String(q.number)));
      const filtered = Object.fromEntries(Object.entries(answers).filter(([k]) => validIds.has(k)));
      localStorage.setItem(STORAGE_KEY, JSON.stringify(filtered));
      const count = Object.keys(filtered).length;
      const total = QUIZ_DATA.questions.length;
      const status = document.getElementById('status');
      status.textContent = `Saved ${count}/${total} answers locally.`;
      const fill = document.getElementById('progressFill');
      const label = document.getElementById('progressLabel');
      if (fill) fill.style.width = `${total > 0 ? Math.min(100, Math.round((count / total) * 100)) : 0}%`;
      if (label) label.textContent = `${count} / ${total}`;
    }

    function renderQuiz() {
      const container = document.getElementById('questions');
      const saved = loadAnswers();
      const questionsLength = QUIZ_DATA.questions.length;
      container.innerHTML = QUIZ_DATA.questions.map((question) => {
        const optionsHtml = Object.entries(question.options).map(([key, value]) => `
          <label class="option-row">
            <input type="radio" name="q${question.number}" value="${key}" ${saved[String(question.number)] === key ? 'checked' : ''} />
            <span><strong>${key})</strong> ${formatPrompt(value)}</span>
          </label>
        `).join('');
        return `
          <article class="question-card">
            <div class="question-number">Question ${question.number}</div>
            <div class="question-prompt">${formatPrompt(question.prompt)}</div>
            <div class="options">${optionsHtml}</div>
          </article>
        `;
      }).join('');

      container.addEventListener('change', (event) => {
        if (!(event.target instanceof HTMLInputElement) || event.target.type !== 'radio') return;
        // Sync .is-checked class for browsers without :has() support
        container.querySelectorAll(`input[name="${event.target.name}"]`).forEach((radio) => {
          radio.closest('.option-row').classList.toggle('is-checked', radio.checked);
        });
        const answers = loadAnswers();
        const questionNumber = event.target.name.replace('q', '');
        answers[questionNumber] = event.target.value;
        saveAnswers(answers);
      });

      // Restore .is-checked class for pre-checked options (from localStorage)
      container.querySelectorAll('input[type="radio"]:checked').forEach((radio) => {
        radio.closest('.option-row').classList.add('is-checked');
      });

      saveAnswers(saved);
    }

    function exportAnswers() {
      const studentAnswers = loadAnswers();
      const criteriaLikeTests = QUIZ_DATA.questions.map((question) => {
        const qid = String(question.number);
        const expected = QUIZ_DATA.expectedAnswers[qid] || null;
        const student = studentAnswers[qid] || null;
        return {
          name: `Question ${qid}`,
          points: 1,
          expected_stdout: [expected],
          student_stdout: [student],
          pass: expected !== null && student === expected
        };
      });

      const exportPayload = {
        quiz_id: QUIZ_DATA.quizId,
        title: QUIZ_DATA.title,
        exported_at: new Date().toISOString(),
        student_answers: studentAnswers,
        expected_answers: QUIZ_DATA.expectedAnswers,
        criteria_like_tests: criteriaLikeTests,
        autograder_notes: 'Map each criteria_like_tests item to criteria.json tests entries as needed for automated grading.'
      };

      const blob = new Blob([JSON.stringify(exportPayload, null, 2)], { type: 'application/json' });
      const url = URL.createObjectURL(blob);
      const link = document.createElement('a');
      link.href = url;
      link.download = `${QUIZ_DATA.quizId}_answers.json`;
      document.body.appendChild(link);
      link.click();
      link.remove();
      URL.revokeObjectURL(url);
    }

    document.getElementById('exportBtn').addEventListener('click', exportAnswers);
    renderQuiz();
  </script>
</body>
</html>
